/**
 * This class serves as the overarching class that calls upon the input reader and the 
 * data handler. This class ensures that all data structures have a single reference point,
 * the one in this class.
 * @author Craig Lombardo
 */
public class CookBook{
  
  private FoodRules ruleBook;
  private DataHandler data;
  private InputReader input;
  private SmartDatabase smart;
  private Database map;
  
  /**
   * This constructor creates a CookBook with a given input file, and writes out
   * to a file called "CookBookOutputInformation.txt" if it exists it will be overwritten
   * if it does not then it will be created.
   * @param inputFile the input file to read from.
   */
  public CookBook(String recipeFile, String connectivityFile, String farmFile, String restFile){
    ruleBook = new FoodRules();
    smart = new SmartDatabase(ruleBook);
    data = new DataHandler(recipeFile, "CookBookOutputInformation.txt", smart);
    map = new Database(connectivityFile,farmFile,restFile);
    input = new InputReader(smart, ruleBook, map);
  }
  
  /**
   * This method starts the prompts from the input reader.
   */
  public void activate(){
    data.getData();
    input.getCommand();
  }
  
  /**
   * Through the main method the user will be able to specify the input file they would like to use, args[0] is
   * the input file.
   * @param args The arguments passed in through the main method, args[0] is the input file.
   */
  public static void main(String[] args){
    //"exampleData/connectivity.txt","exampleData/farms.txt","exampleData/restaurants.txt"
    try{
      CookBook test = new CookBook(args[0],args[1],args[2],args[3]);
      test.activate();
    }
    catch(java.lang.NullPointerException e){
      
    }
  }
}